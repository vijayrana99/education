"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.adminRoutes = void 0;
const express_1 = require("express");
const auth_middleware_1 = require("../middlewares/auth.middleware");
const page_controller_1 = require("../controllers/page.controller");
const news_controller_1 = require("../controllers/news.controller");
const newsCategory_controller_1 = require("../controllers/newsCategory.controller");
const event_controller_1 = require("../controllers/event.controller");
const staff_controller_1 = require("../controllers/staff.controller");
const gallery_controller_1 = require("../controllers/gallery.controller");
const menu_controller_1 = require("../controllers/menu.controller");
const setting_controller_1 = require("../controllers/setting.controller");
const contact_controller_1 = require("../controllers/contact.controller");
const homeSection_controller_1 = require("../controllers/homeSection.controller");
const validation_middleware_1 = require("../middlewares/validation.middleware");
const validators_1 = require("../validators");
const router = (0, express_1.Router)();
exports.adminRoutes = router;
router.use(auth_middleware_1.auth);
router.get('/pages', (req, res, next) => page_controller_1.pageController.list(req, res).catch(next));
router.post('/pages', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.createPageSchema), (req, res, next) => page_controller_1.pageController.create(req, res).catch(next));
router.get('/pages/:id', (req, res, next) => page_controller_1.pageController.getById(req, res).catch(next));
router.put('/pages/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.updatePageSchema), (req, res, next) => page_controller_1.pageController.update(req, res).catch(next));
router.delete('/pages/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => page_controller_1.pageController.delete(req, res).catch(next));
router.get('/home-sections', (req, res, next) => homeSection_controller_1.homeSectionController.list(req, res).catch(next));
router.post('/home-sections', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.homeSectionSchema), (req, res, next) => homeSection_controller_1.homeSectionController.create(req, res).catch(next));
router.get('/home-sections/:id', (req, res, next) => homeSection_controller_1.homeSectionController.getById(req, res).catch(next));
router.put('/home-sections/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.homeSectionSchema), (req, res, next) => homeSection_controller_1.homeSectionController.update(req, res).catch(next));
router.delete('/home-sections/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => homeSection_controller_1.homeSectionController.delete(req, res).catch(next));
router.get('/news/categories', (req, res, next) => newsCategory_controller_1.newsCategoryController.list(req, res).catch(next));
router.post('/news/categories', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => newsCategory_controller_1.newsCategoryController.create(req, res).catch(next));
router.get('/news/categories/:id', (req, res, next) => newsCategory_controller_1.newsCategoryController.getBySlug(req, res).catch(next));
router.put('/news/categories/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => newsCategory_controller_1.newsCategoryController.update(req, res).catch(next));
router.delete('/news/categories/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => newsCategory_controller_1.newsCategoryController.delete(req, res).catch(next));
router.get('/news', (req, res, next) => news_controller_1.newsController.list(req, res).catch(next));
router.post('/news', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.newsSchema), (req, res, next) => news_controller_1.newsController.create(req, res).catch(next));
router.get('/news/:id', (req, res, next) => news_controller_1.newsController.getById(req, res).catch(next));
router.put('/news/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.newsSchema), (req, res, next) => news_controller_1.newsController.update(req, res).catch(next));
router.delete('/news/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => news_controller_1.newsController.delete(req, res).catch(next));
router.get('/events', (req, res, next) => event_controller_1.eventController.list(req, res).catch(next));
router.post('/events', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.eventSchema), (req, res, next) => event_controller_1.eventController.create(req, res).catch(next));
router.get('/events/:id', (req, res, next) => event_controller_1.eventController.getById(req, res).catch(next));
router.put('/events/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.eventSchema), (req, res, next) => event_controller_1.eventController.update(req, res).catch(next));
router.delete('/events/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => event_controller_1.eventController.delete(req, res).catch(next));
router.get('/staff', (req, res, next) => staff_controller_1.staffController.list(req, res).catch(next));
router.post('/staff', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.staffSchema), (req, res, next) => staff_controller_1.staffController.create(req, res).catch(next));
router.get('/staff/:id', (req, res, next) => staff_controller_1.staffController.getById(req, res).catch(next));
router.put('/staff/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.staffSchema), (req, res, next) => staff_controller_1.staffController.update(req, res).catch(next));
router.delete('/staff/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => staff_controller_1.staffController.delete(req, res).catch(next));
router.get('/gallery/albums', (req, res, next) => gallery_controller_1.galleryController.listAlbums(req, res).catch(next));
router.post('/gallery/albums', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.galleryAlbumSchema), (req, res, next) => gallery_controller_1.galleryController.createAlbum(req, res).catch(next));
router.get('/gallery/albums/:id', (req, res, next) => gallery_controller_1.galleryController.getById(req, res).catch(next));
router.delete('/gallery/albums/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => gallery_controller_1.galleryController.deleteAlbum(req, res).catch(next));
router.get('/gallery/albums/:albumId/images', (req, res, next) => gallery_controller_1.galleryController.listAlbums(req, res).catch(next));
router.post('/gallery/albums/:albumId/images', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.galleryImageSchema), (req, res, next) => gallery_controller_1.galleryController.createImage(req, res).catch(next));
router.delete('/gallery/images/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => gallery_controller_1.galleryController.deleteImage(req, res).catch(next));
router.get('/menus', (req, res, next) => menu_controller_1.menuController.list(req, res).catch(next));
router.post('/menus', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.menuSchema), (req, res, next) => menu_controller_1.menuController.create(req, res).catch(next));
router.get('/menus/:id', (req, res, next) => menu_controller_1.menuController.getById(req, res).catch(next));
router.put('/menus/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (0, validation_middleware_1.validate)(validators_1.menuSchema), (req, res, next) => menu_controller_1.menuController.update(req, res).catch(next));
router.delete('/menus/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => menu_controller_1.menuController.delete(req, res).catch(next));
router.get('/settings', (req, res, next) => setting_controller_1.settingController.get(req, res).catch(next));
router.put('/settings', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => setting_controller_1.settingController.update(req, res).catch(next));
router.get('/contact', (req, res, next) => contact_controller_1.contactController.list(req, res).catch(next));
router.get('/contact/:id', (req, res, next) => contact_controller_1.contactController.getById(req, res).catch(next));
router.put('/contact/:id', (0, auth_middleware_1.requireRole)('EDITOR'), (req, res, next) => contact_controller_1.contactController.updateStatus(req, res).catch(next));
//# sourceMappingURL=admin.routes.js.map